## 06 객체지도
> 길을 묻는 것 -> 기능에 기반</br>
> 지도를 보는 것 -> 구조에 기반
- 자주 변하는 기능이 아닌 안정적인 구조를 따라 역할, 책임, 협력을 구성하라

### 기능 설계 대 구조 설계
- 훌륭한 소프트웨어 구조는 필요조건
- 훌륭한 개발자 : 기능 + 예측 불가한 요구사항 변경에 유연하게 대처할 수 있는 안정적인 구조를 제공하는 능력
- 좋은 설계 : 나중에라도 변경될 수 있는 여지를 남겨놓는 것.
----
- 기능 분해 방법은 각 기능이 서로 밀접하게 연관되어있어서 변경이 생기면 전체적으로 요동을 침.
- 객제지향 접근방법은 안정된 구조를 바탕으로 기능은 더 작게 분할되고 적절한 객체에 분배되기때문에 객체 간 구조는 유지됨.




### 두 가지 재료: 기능과 구조
- 구조 : 사용자가 도메인에 관해 생각하는 개념과 개념들간의 관계로 표현
  - 도메인 모델링
- 기능 : 사용자의 목표를 만족시키기 위해 책임을 수행하는 시스템의 행위로 표현
  - 유스케이스 모델링

### 안정적인 구조: 구조
#### 도메인 모델
- 도메인 : 사용자가 프로그램을 사용하는 분야
- 모델 : 대상을 추상화.단순화하여 표현
> 도메인모델 : 사용자가 생각하는 제품의 모델 + 설계자가 생각하는 모델 => 시스템 이미지 

##### 도메인의 모습을 담을 수 있는 객체지향성
- 사용자 모델, 디자인 모델, 시스템 이미지 모두 유사한 모습을 갖게 만들 수 있다.
> 연결완정성, 표현적 차이

##### 표현적 차이
- 소프트웨어 객체는 현실을 모방한게 아님
- 은유를 기반으로 재창조한 것.
  - 은유를 통해 현실 객체와 소프트 웨어 객체 사이의 차이를 최대한 줄인다.
- 도메인 모델을 은유해야하는 것.
  - 사용자가 생각하는 모델에 가깝게 은유하고 그 차이를 줄여야한다.
- 도메인을 이해하면 코드 이해하기가 쉬워짐. 
 
##### 불안정한 기능을 담는 안정적인 도메인 모델
- 사용자들은 도메인의 본질적인 측면을 잘 알고있음.
  - 본질적인 측면 : 비교적 변경이 적고 오래 유지되는 부분
  - 그래서 도메인을 이해하고 코드를 짜야함.
- 안정적 구조를 제공하는 도메인 모델을 기반으로 소프트웨어의 구조를 설계하면 변경에 유연하게 대응할 수 있게 됨.


### 불안정한 재료 : 기능
#### 유스케이스 
>유스케이스란? </br> 사용자의 목표를 달성하기 위해 사용자와 시스템 간에 이뤄지는 상호작용

#### 유스케이스의 특성
1. 다이어그램X, 시스템과 사용자 사이의 일련의 이야기(텍스트)가 중요
2. 하나의 시나리오가 아닌 여러 시나리오의 집합체이다. 
  - ex) 1. 예금을 조회한다. 2. 해지시 예상 이자액을 보여준다.. 이렇게 집합임
3. 피쳐(기능)을 묶어서 연관된 기능(시나리오)를 묶을 수 있다.
4. 사용자 인터페이스(변경이 많음)를 배제, 사용자와 시스템 행위에 초점을 맞춘다.
5. 내부 설계 정보 포함 하지 않음.

#### 유스케이스는 설계 기법도, 객체지향 기법도 아니다
- 유스케이스를 기반으로 객체 구조 추출 X
- 유스 케이스는 그저 사용자 중심에서 기능을 묶는 시나리오

### 재료 합치기 : 기능과 구조의 통합
#### 도메인 모델, 유스케이스, 그리고 책임-주도 설계
- 유스케이스로 정리된 기능들을 객체들에게 책임을 분배해야함.
1. 요구사항을 식별
2. 도메인 모델 생성
3. 소프트 웨어 클래스에 메소드 추가
4. 요구사항 충족을 위하 객체들 간의 메세지 전송을 정의하기

- 유스케이스 : 첫번째 메세지, 사용자의 목표를 알 수 있음
- 도메인 모델 : 안정적인 구조를 제공받음.

![도메인객체흐름](https://user-images.githubusercontent.com/9546801/102687617-a7264300-4233-11eb-89c8-9bf358843ea3.png)














